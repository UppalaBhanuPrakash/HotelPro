 <div class="auth-container">
      <div class="auth-card">
        <div class="auth-header">
          <div class="logo">
            <div class="logo-icon">ğŸ”</div>
            <h1>Reset Password</h1>
          </div>
          <p>Enter your email address and we'll send you a link to reset your password</p>
        </div>
        
        <form (ngSubmit)="onSubmit()" #forgotForm="ngForm" class="auth-form" *ngIf="!emailSent">
          <div class="form-group">
            <label for="email">Email Address</label>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              required
              email
              #emailRef="ngModel"
              [class.error]="emailRef.invalid && emailRef.touched"
              placeholder="Enter your registered email address"
            >
            <div class="error-message" *ngIf="emailRef.invalid && emailRef.touched">
              <span *ngIf="emailRef.errors?.['required']">Email is required</span>
              <span *ngIf="emailRef.errors?.['email']">Please enter a valid email address</span>
            </div>
          </div>

          <button
            type="submit"
            class="submit-btn"
            [disabled]="forgotForm.invalid || loading"
             (click)="sendOtp()"
          >
            <span *ngIf="loading" class="loading-spinner"></span>
            <span class="btn-icon" *ngIf="!loading"><i class="bi bi-envelope"></i></span>
            {{ loading ? 'Sending Reset Link...' : 'Send Reset Link' }}
          </button>

          <div class="error-message" *ngIf="errorMessage">
            {{ errorMessage }}
          </div>
        </form>

        <div class="success-card" *ngIf="emailSent">
          <div class="success-icon"><i class="bi bi-check"></i></div>
          <h3>Check Your Email</h3>
          <p>We've sent a password reset link to <strong>{{ email }}</strong></p>
          <p>Please check your email and follow the instructions to reset your password.</p>
          <div class="success-actions">
            <button class="btn-secondary" (click)="resendEmail()" [disabled]="resendLoading">
              <span *ngIf="resendLoading" class="loading-spinner"></span>
              {{ resendLoading ? 'Resending...' : 'Resend Email' }}
            </button>
            <button class="btn-primary" routerLink="/signin">
              Back to Sign In
            </button>
          </div>
        </div>

        <div class="auth-footer">
          <p>Remember your password? <a routerLink="/signin" class="link">Sign in here</a></p>
          <p>Don't have an account? <a routerLink="/signup" class="link">Create one now</a></p>
        </div>
      </div>
      <div class="otp-modal" *ngIf="showOtpModal">
  <div class="otp-content">
    <h3>OTP Verification</h3>
    <p>An OTP has been sent to <b>{{ email }}</b></p>
    <input type="text" [(ngModel)]="enteredOtp" placeholder="Enter OTP" />
    <div *ngIf="otpError" class="error">{{ otpError }}</div>

    <div class="otp-actions">
      <button class="btn verify" (click)="verifyOtp()">Verify OTP</button>
      <button class="btn cancel" (click)="showOtpModal = false">Cancel</button>
      <button class="btn cancel" (click)="sendOtp()">Resend OTP</button>
    </div>
  </div>
</div>
</div>